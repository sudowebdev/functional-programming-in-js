<!DOCTYPE html>

<html>
 <head>
   <meta charset="UTF-8" />
   <title>Callbacks Implementation</title>

 </head>
<div id="app">
    <img id="image1" width="200" height="200"/>
    <img id="image2" width="200" height="200"/>
    <img id="image3" width="200" height="200"/>

</div>

<script>

    function imageLoaded(url, callback){
     let image  = new Image();

     image.onload = function(){
         callback(null, image);
     }

     image.onerror = function(){
         let message = 'Could not load image at ' + url;
         callback(new Error(message));
     }
     image.src= url;

    }


    let addImg = function (src) {
        let imgElement = document.getElementById("image1");
        imgElement.setAttribute('src', src);

    };


    imageLoaded("./images/cat1.jpeg", function(err, img1){
        addImg(img1.src);
        console.log(img1);
        imageLoaded("./images/cat2.jpeg", function(err, img2){
            addImg(img2.src);
            console.log(img2);
            imageLoaded("./images/cat3.jpg", function(err, img3){
                addImg(img3.src);
                console.log(img3);
                imageLoaded("./images/cat4.jpg", function(err, img4){
                    addImg(img4.src);
                    console.log(img4);
                })
            })
        })
    })

</script>
</html>

